The 'Huangguan' pear disease spot detection and grading is the key to fruit processing automation. Due to the variety of individual shapes and disease spot types of 'Huangguan' pear. The traditional computer vision technology and pattern recognition methods have some limitations in the detection of 'Huangguan' pear diseases. In recent years, with the development of deep learning technology and convolutional neural network provides a new solution for the fast and accurate detection of 'Huangguan' pear diseases. To achieve automatic grading of 'Huangguan' pear appearance quality in a complex context, this study proposes an integrated framework combining instance segmentation, semantic segmentation and grading models. In the first stage, Mask R-CNN and Mask R-CNN with the introduction of the preprocessing module are used to segment 'Huangguan' pears from complex backgrounds. In the second stage, DeepLabV3+, UNet and PSPNet are used to segment the 'Huangguan' pear spots to get the spots, and the ratio of the spot pixel area to the 'Huangguan' pear pixel area is calculated and classified into three grades. In the third stage, the grades of 'Huangguan' pear are obtained using ResNet50, VGG16 and MobileNetV3. The experimental results show that the model proposed in this paper can segment the 'Huangguan' pear and disease spots in complex background in steps, and complete the grading of 'Huangguan' pear fruit disease severity. According to the experimental results. The Mask R-CNN that introduced the CLAHE preprocessing module in the first-stage instance segmentation model is the most accurate. The resulting pixel accuracy (PA) is 97.38% and the Dice coefficient is 68.08%. DeepLabV3+ is the most accurate in the second-stage semantic segmentation model. The pixel accuracy is 94.03% and the Dice coefficient is 67.25%. ResNet50 is the most accurate among the third-stage classification models. The average precision (AP) was 97.41% and the F1 (harmonic average assessment) was 95.43%.In short, it not only provides a new framework for the detection and identification of 'Huangguan' pear fruit diseases in complex backgrounds, but also lays a theoretical foundation for the assessment and grading of 'Huangguan' pear diseases.

Mask R-CNN: !segments! 'Huangguan' pears 
DeepLabV3+: !segments! 'Huangguan' pear spots 
ResNet50: !classifies! 'Huangguan' pear grades