Consumer and resource control of diversity in plant communities have long been treated as alternative hypotheses. However, experimental and theoretical evidence suggests that herbivores and nutrient resources interactively regulate the number and relative abundance of coexisting plant species. Experiments have yielded divergent and often contradictory responses within and among ecosystems, and no effort has to date reconciled this empirical variation within a general framework. Using data from 274 experiments from marine, freshwater, and terrestrial ecosystems, we present a cross-system analysis of producer diversity responses to local manipulations of resource supply and/or herbivory. Effects of herbivory and fertilization on producer richness differed substantially between systems: (i) herbivores reduced species richness in freshwater but tended to increase richness in terrestrial systems; (ii) fertilization increased richness in freshwater systems but reduced richness on land. Fertilization consistently reduced evenness, whereas herbivores increased evenness only in marine and terrestrial ecosystems. Producer community evenness and ecosystem productivity mediated fertilization and herbivore effects on diversity across ecosystems. Herbivores increased producer richness in more productive habitats and in producer assemblages with low evenness. These same assemblages also showed the strongest reduction in richness with fertilization, whereas fertilization increased (and herbivory decreased) richness in producer assemblages with high evenness. Our study indicates that system productivity and producer evenness determine the direction and magnitude of top-down and bottom-up control of diversity and may reconcile divergent empirical results within and among ecosystems.

Herbivores: !reduce! Species richness in freshwater 
Herbivores: !increase! Species richness in terrestrial systems 
Fertilization: !increase! Species richness in freshwater systems 
Fertilization: !decrease! Species richness in terrestrial systems 
Fertilization: !reduce! Evenness 
Herbivores: !increase! Evenness in marine and terrestrial ecosystems 
Producer community evenness: !mediates! Fertilization and herbivore effects on diversity 
Herbivores: !increase! Producer richness in more productive habitats 
Herbivores: !increase! Producer richness in producer assemblages with low evenness 
Fertilization: !increase! Producer richness in producer assemblages with high evenness