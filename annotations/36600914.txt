Deep learning techniques have made great progress in the field of target detection in recent years, making it possible to accurately identify plants in complex environments in agricultural fields. This project combines deep learning algorithms with spraying technology to design a machine vision precision real-time targeting spraying system for field scenarios. Firstly, the overall structure scheme of the system consisting of image acquisition and recognition module, electronically controlled spray module and pressure-stabilized pesticide supply module was proposed. After that, based on the target detection model YOLOv5s, the model is lightened and improved by replacing the backbone network and adding an attention mechanism. Based on this, a grille decision control algorithm for solenoid valve group on-off was designed, while common malignant weeds were selected as objects to produce data sets and complete model training. Finally, the deployment of the hardware system and detection model on the electric spray bar sprayer was completed, and field trials were conducted at different speeds. The experimental results show that the improved algorithm reduces the model size to 53.57% of the original model with less impact on mAP accuracy, improves FPS by 18.16%. The accuracy of on-target spraying at 2km/h, 3km/h and 4km/h speeds were 90.80%, 86.20% and 79.61%, respectively, and the spraying hit rate decreased as the operating speed increased. Among the hit rate components, the effective recognition rate was significantly affected by speed, while the relative recognition hit rate was less affected.

Deep learning: !enhances! Target detection
YOLOv5s: !lightened and improved by! Replacing backbone network and adding attention mechanism
Grille decision control algorithm: !designed for! Solenoid valve group on-off
Data sets: !produced from! Common malignant weeds
Model training: !completed with! Data sets
Hardware system: !deployed on! Electric spray bar sprayer
Field trials: !conducted at! Different speeds
Model size: !reduced to! 53.57% of original model
mAP accuracy: !less impacted by! Lightening and improving YOLOv5s
FPS: !improved by! 18.16%
Accuracy: !decreased as! Operating speed increased
Effective recognition rate: !significantly affected by! Speed